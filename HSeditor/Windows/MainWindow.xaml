<Window x:Class="HSeditor.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:vwp="clr-namespace:WpfToolkit.Controls;assembly=VirtualizingWrapPanel"
        mc:Ignorable="d"
        Title="HSeditor" MinHeight="700" Width="1288" Height="733.6"  MinWidth="1227"  Background="#FF25282E"    Loaded="Window_Loaded" WindowStartupLocation="CenterScreen" ResizeMode="CanResize" Initialized="Window_Initialized" MouseMove="Window_MouseMove" MouseLeftButtonDown="Window_MouseLeftButtonDown" MouseUp="Window_MouseUp" PreviewKeyDown="Window_PreviewKeyDown" SizeChanged="Window_SizeChanged">
    <Window.Resources>
        <LinearGradientBrush x:Key="quickActionButtonColor" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#2a273d" Offset="0"/>
            <GradientStop Color="#14131c" Offset="1.0"/>
        </LinearGradientBrush>
        <SolidColorBrush x:Key="White" Color="#F6F6F6"></SolidColorBrush>
        <SolidColorBrush x:Key="Gray" Color="#99AAB5"></SolidColorBrush>
        <SolidColorBrush x:Key="Main" Color="#483d85"></SolidColorBrush>
        <SolidColorBrush x:Key="Gold" Color="#a3895b"></SolidColorBrush>
        <SolidColorBrush x:Key="ButtonBorder" Color="#FF2E323A"></SolidColorBrush>
        <Style TargetType="Border" x:Key="quickActionButton">
            <Setter Property="Background" Value="{StaticResource quickActionButtonColor}"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Padding" Value="2" />
            <Setter Property="Width" Value="110"/>
            <Setter Property="Height" Value="50"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="BorderBrush" Value="#FF483D85"/>
            <Setter Property="AllowDrop" Value="True"/>
            <EventSetter Event="DragEnter" Handler="Border_DragEnter"/>
            <EventSetter Event="DragLeave" Handler="Border_DragLeave"/>
        </Style>
        <Style TargetType="Button" x:Key="RoundButton">
            <Setter Property="Background" Value="#3BA55D"></Setter>
            <Setter Property="TextBlock.TextAlignment" Value="Center"></Setter>
            <Setter Property="BorderThickness" Value="2"></Setter>
            <Setter Property="BorderBrush" Value="{StaticResource ButtonBorder}"></Setter>
            <Style.Resources>
                <Style TargetType="Border">
                    <Setter Property="CornerRadius" Value="3"></Setter>
                </Style>
            </Style.Resources>
        </Style>
        <Style x:Key="BoldFont">
            <Setter Property="TextElement.FontFamily" Value="/Resources/Fonts/#Nunito Sans Bold"></Setter>
        </Style>
        <FontFamily x:Key="FontBold">/Resources/Fonts/#Nunito Sans Bold</FontFamily>
        <FontFamily x:Key="FontRegular">/Resources/Fonts/#Nunito Sans Regular</FontFamily>
    </Window.Resources>

    <Viewbox x:Name="vbMain" Stretch="Uniform" RenderOptions.BitmapScalingMode="NearestNeighbor" HorizontalAlignment="Center" VerticalAlignment="Center" Loaded="vbMain_Loaded">
        <Grid Background="#282C34" x:Name="MainGrid" Loaded="MainGrid_Loaded">
            <TabControl x:Name="MenuControl" BorderBrush="{x:Null}" Height="680" Background="{x:Null}" Width="1024" SelectedIndex="0" Margin="220,0,0,0" SelectionChanged="MenuControl_SelectionChanged">
                <!-- HERO INFO -->
                <TabItem Style="{DynamicResource TabItemStyle1}" FontFamily="{StaticResource FontBold}" Header="Hero Info" Background="#282C34" BorderBrush="{x:Null}" Height="40"  FontSize="15">
                    <Grid Background="#2E323A" Name="mainGrid1" IsEnabled="False">
                        <Grid x:Name="gridHeroInfo" Margin="20,20,20,0" VerticalAlignment="Top" HorizontalAlignment="Left" Width="835">
                            <Grid x:Name="gridClass" Width="250" HorizontalAlignment="Left"  Height="440" VerticalAlignment="Top">
                                <Border CornerRadius="6,6,0,0" Height="30" BorderThickness="6" BorderBrush="#483d85" Background="#483d85" VerticalAlignment="Top">
                                    <TextBlock Text="Hero" FontSize="16" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Center"></TextBlock>
                                </Border>
                                <Grid Background="#262930" Margin="0,30,0,0" Height="400" VerticalAlignment="Top">
                                    <ComboBox Name="comboBoxClasses" VerticalAlignment="Top" Margin="0,120,0,0" Width="230" Height="30" Loaded="comboBoxClasses_Loaded"  ScrollViewer.VerticalScrollBarVisibility="Hidden" SelectionChanged="comboBoxClasses_SelectionChanged" Cursor="Hand">
                                        <ComboBox.ItemTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <Grid Width="24" Height="24" VerticalAlignment="Center" Margin="1,0,0,0">
                                                        <Image Source="{Binding Sprite}" Height="20" Width="20" Stretch="Uniform" HorizontalAlignment="Center"/>
                                                    </Grid>
                                                    <TextBlock Text="{Binding Name}" Width="230" Padding="5,0,5,0" VerticalAlignment="Center" FontSize="16" Foreground="{StaticResource White}" FontFamily="/Resources/Fonts/#Nunito Sans "/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </ComboBox.ItemTemplate>
                                    </ComboBox>
                                    <TextBox x:Name="textBoxHeroName" MaxLength="30" Padding="5,0,0,0" Style="{DynamicResource TextBoxMain}" Margin="0,40,0,0" Text="" Width="230" Height="30" LostFocus="textBoxHeroName_LostFocus"/>
                                    <TextBox x:Name="textBoxLevel" Padding="5,0,0,0" CommandManager.PreviewExecuted="textBox_PreviewExecuted" PreviewTextInput="TextBox_PreviewTextInput" LostFocus="TextBox_LostFocus" Style="{DynamicResource TextBoxMain}" Margin="10,200,10,0" MaxLength="5" Text="{Binding Level}" Width="230" Height="30"/>
                                    <TextBox x:Name="textBoxHerolevel" Padding="5,0,0,0" CommandManager.PreviewExecuted="textBox_PreviewExecuted" PreviewTextInput="TextBox_PreviewTextInput" LostFocus="TextBox_LostFocus" Style="{DynamicResource TextBoxMain}" Margin="10,280,10,0" MaxLength="5" Text="{Binding HeroLevel}" Width="230" Height="30"/>
                                    <RadioButton x:Name="buttonHardcoreYes" Height="30" Content="Yes" VerticalAlignment="Bottom" Style="{DynamicResource HardcoreToggleButton}" HorizontalAlignment="Right" Margin="0,0,61,10" Checked="buttonHardcoreNo_Checked" Width="64" Cursor="Hand"/>
                                    <RadioButton x:Name="buttonHardcoreNo" Height="30" Content="No" VerticalAlignment="Bottom" Style="{DynamicResource HardcoreToggleButton}" HorizontalAlignment="Left" Margin="61,0,0,10" Width="64" IsChecked="True" Checked="buttonHardcoreNo_Checked" Cursor="Hand"/>
                                </Grid>
                                <Grid  Height="30"  Background="#FF1F2126" VerticalAlignment="Top" Margin="0,30,0,0">
                                    <Label Content="Name:" FontSize="16" Foreground="{StaticResource White}" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Left"/>
                                </Grid>
                                <Grid  Height="30"  Background="#FF1F2126" VerticalAlignment="Top" Margin="0,110,0,0">
                                    <Label Content="Class:" FontSize="16" Foreground="{StaticResource White}" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Left"/>
                                </Grid>
                                <Grid  Height="30"  Background="#FF1F2126" VerticalAlignment="Top" Margin="0,190,0,0">
                                    <Label Content="Level:" FontSize="16" Foreground="{StaticResource White}" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Left"/>
                                </Grid>
                                <Grid  Height="30"  Background="#FF1F2126" VerticalAlignment="Top" Margin="0,270,0,0">
                                    <Label Content="Hero level:" FontSize="16" Foreground="{StaticResource White}" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Left"/>
                                </Grid>
                                <Grid  Height="30"  Background="#FF1F2126" VerticalAlignment="Top" Margin="0,350,0,0">
                                    <Label Content="Hardcore:" FontSize="16" Foreground="{StaticResource White}" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Left"/>
                                </Grid>
                                <Border CornerRadius="0,0,3,3" BorderBrush="#FF483D85" Background="#FF483D85" BorderThickness="3" Height="10" VerticalAlignment="Bottom"></Border>
                            </Grid>
                            <Grid x:Name="gridCurrency" Width="250" HorizontalAlignment="Left" Margin="540,0,0,0" Height="200" VerticalAlignment="Top">
                                <Border CornerRadius="6,6,0,0" Height="30" BorderThickness="6" BorderBrush="#483d85" Background="#483d85" VerticalAlignment="Top">
                                    <TextBlock Text="Currency" FontSize="16" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Center"></TextBlock>
                                </Border>
                                <Grid Background="#262930" Margin="0,30,0,0" Height="160" VerticalAlignment="Top">
                                    <Grid  Height="30"  Background="#FF1F2126" VerticalAlignment="Top">
                                        <Label Content="Gold:" FontSize="16" Foreground="{StaticResource White}" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Left"/>
                                    </Grid>
                                    <TextBox x:Name="textBoxGold"  Padding="5,0,0,0" CommandManager.PreviewExecuted="textBox_PreviewExecuted" LostFocus="TextBox_LostFocus" PreviewTextInput="TextBox_PreviewTextInput" Style="{DynamicResource TextBoxMain}" MaxLength="10" Margin="0,40,0,0" Text="" Width="230" Height="30" TextChanged="textBoxGold_TextChanged"/>
                                    <Grid  Height="30"  Background="#FF1F2126" VerticalAlignment="Top" Margin="0,80,0,0">
                                        <Label Content="Rubies:" FontSize="16" Foreground="{StaticResource White}" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Left"/>
                                    </Grid>
                                    <TextBox x:Name="textBoxRubies" Padding="5,0,0,0" CommandManager.PreviewExecuted="textBox_PreviewExecuted" LostFocus="TextBox_LostFocus" Style="{DynamicResource TextBoxMain}" PreviewTextInput="TextBox_PreviewTextInput" MaxLength="10" Margin="0,120,0,0" Text="" Width="230" Height="30" TextChanged="textBoxRubies_TextChanged"/>
                                </Grid>
                                <Border CornerRadius="0,0,3,3"  BorderBrush="#FF483D85" Background="#FF483D85" BorderThickness="3" Height="10" VerticalAlignment="Bottom"></Border>
                            </Grid>
                            <Grid x:Name="gridMHeroMisc" Width="250" HorizontalAlignment="Left" Margin="270,0,0,0" Height="280" VerticalAlignment="Top">
                                <Border CornerRadius="6,6,0,0"  Height="30" BorderThickness="6" BorderBrush="#483d85" Background="#483d85" VerticalAlignment="Top" Margin="0,-1,0,0">
                                    <TextBlock Text="Misc" FontSize="16" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Center"/>
                                </Border>
                                <Grid Background="#262930" Margin="0,29,0,0" Height="240" VerticalAlignment="Top">
                                    <Grid  Height="30"  Background="#FF1F2126" VerticalAlignment="Top">
                                        <Label Content="Wormhole:" FontSize="16" Foreground="{StaticResource White}" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Left"/>
                                    </Grid>
                                    <TextBox x:Name="textBoxWormhole" Padding="5,0,0,0" CommandManager.PreviewExecuted="textBox_PreviewExecuted" LostFocus="TextBox_LostFocus" PreviewTextInput="TextBox_PreviewTextInput" Style="{DynamicResource TextBoxMain}" MaxLength="10" Margin="0,40,0,0" Text="{Binding WormholeLevel}" Width="230" Height="30" TextChanged="textBoxWormhole_TextChanged"/>
                                    <Grid  Height="30"  Background="#FF1F2126" VerticalAlignment="Top" Margin="0,80,0,0">
                                        <Label Content="Mining:" FontSize="16" Foreground="{StaticResource White}" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Left" Margin="0,-1,0,1"/>
                                        <Image  Source="/Resources/info.ico" Margin="229,7,0,7" HorizontalAlignment="Left" Height="16" Width="16" ToolTipService.ShowOnDisabled="False">
                                            <Image.ToolTip>
                                                <Viewbox Loaded="Viewbox_Loaded">
                                                    <Border BorderBrush="#FF483D85" BorderThickness="3">
                                                        <StackPanel Background="#FF212329">
                                                            <TextBlock Text="Amount of *Mining XP*" Tag="#ad9247"  MaxWidth="350" FontFamily="/Resources/Fonts/#Nunito Sans Regular" TextWrapping="WrapWithOverflow" Margin="5" Foreground="{StaticResource Gray}" FontSize="14" Loaded="TextBlock_Loaded"/>
                                                            <TextBlock Text="Valid Range: 0 - 5000" Margin="5"  MaxWidth="350" FontFamily="/Resources/Fonts/#Nunito Sans Regular" TextWrapping="WrapWithOverflow" Foreground="#5d70ba" FontSize="14"/>
                                                        </StackPanel>
                                                    </Border>
                                                </Viewbox>
                                            </Image.ToolTip>
                                        </Image>
                                    </Grid>
                                    <TextBox x:Name="textBoxMining" Padding="5,0,0,0" CommandManager.PreviewExecuted="textBox_PreviewExecuted" LostFocus="TextBox_LostFocus" PreviewTextInput="TextBox_PreviewTextInput" Style="{DynamicResource TextBoxMain}" MaxLength="4" Margin="0,120,0,0" Text="" Width="230" Height="30" TextChanged="textBoxMining_TextChanged"/>
                                    <Grid  Height="30"  Background="#FF1F2126" VerticalAlignment="Top" Margin="0,160,0,0">
                                        <Label Content="Chaos Tower:" FontSize="16" Foreground="{StaticResource White}" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Left" Margin="0,-1,0,1"/>
                                        <Image  Source="/Resources/info.ico" Margin="229,7,0,7" HorizontalAlignment="Left" Height="16" Width="16" ToolTipService.ShowOnDisabled="False">
                                            <Image.ToolTip>
                                                <Viewbox Loaded="Viewbox_Loaded">
                                                    <Border BorderBrush="#FF483D85" BorderThickness="3">
                                                        <StackPanel Background="#FF212329">
                                                            <TextBlock Text="Amount of completed *Chaos Towers*" Tag="#ad9247"  MaxWidth="350" FontFamily="/Resources/Fonts/#Nunito Sans Regular" TextWrapping="WrapWithOverflow" Margin="5" Foreground="{StaticResource Gray}" FontSize="14" Loaded="TextBlock_Loaded"/>
                                                        </StackPanel>
                                                    </Border>
                                                </Viewbox>
                                            </Image.ToolTip>
                                        </Image>
                                    </Grid>
                                    <TextBox x:Name="textBoxChaosTower" Padding="5,0,0,0" CommandManager.PreviewExecuted="textBox_PreviewExecuted" LostFocus="TextBox_LostFocus" PreviewTextInput="TextBox_PreviewTextInput" Style="{DynamicResource TextBoxMain}" MaxLength="10" Margin="10,200,10,0" Text="{Binding ChaosTower}" Width="230" Height="30" TextChanged="textBoxChaosTower_TextChanged"/>
                                </Grid>
                                <Border CornerRadius="0,0,3,3"  BorderBrush="#FF483D85" Background="#FF483D85" BorderThickness="3" Height="10" VerticalAlignment="Bottom"/>
                            </Grid>
                        </Grid>
                    </Grid>
                </TabItem>
                <!-- Equipment -->
                <TabItem Style="{DynamicResource TabItemStyle1}"  FontFamily="{StaticResource FontBold}" Header="Equipment"  BorderBrush="{x:Null}" Background="#282C34" Height="40" FontSize="15">
                    <Grid Background="#2E323A"  Name="mainGrid3" IsEnabled="False">
                        <Grid Margin="20,20,20,0" VerticalAlignment="Top" HorizontalAlignment="Left" Width="970">
                            <Grid x:Name="gridLoadout" Height="580" Width="600" VerticalAlignment="Top" HorizontalAlignment="Left">
                                <Border CornerRadius="6,6,0,0" Height="30" BorderThickness="6" BorderBrush="#483d85" Background="#483d85" VerticalAlignment="Top">
                                    <TextBlock Text="Equipment" FontSize="16" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Center"></TextBlock>
                                </Border>
                                <Grid x:Name="gridEquipment" Height="268" Width="600" VerticalAlignment="Top" Margin="0,30,0,0" HorizontalAlignment="Center" Background="#FF1E1F22"/>
                                <!--<Border Background="#FF1A1B1C" BorderThickness="3" Height="8" VerticalAlignment="Top" Margin="0,290,0,0" BorderBrush="#FF1A1B1C" /> -->
                                <Border CornerRadius="0,0,3,3" BorderBrush="#FF483D85" Background="#FF483D85" BorderThickness="3" Height="10" VerticalAlignment="Bottom" />
                                <Grid  Height="32"  VerticalAlignment="Bottom" Margin="0,0,0,10" Background="#FF1A1B1C" >
                                    <TabControl x:Name="controlSelectedInventory" HorizontalAlignment="Left" SelectedIndex="2" SelectionChanged="controlSelectedInventory_SelectionChanged">
                                        <TabItem x:Name="InvSocketable" AllowDrop="True" Style="{DynamicResource TabItemStyle1}" Width="32" FontFamily="{StaticResource FontBold}"  BorderBrush="{x:Null}" Background="#282C34" Height="30" FontSize="15" DragOver="TabItem_DragOver">
                                            <TabItem.Header>
                                                <Image Source="\Resources\SocketIcon.png" Margin="1" HorizontalAlignment="Center" VerticalAlignment="Center" Stretch="Uniform" />
                                            </TabItem.Header>
                                        </TabItem>
                                        <TabItem x:Name="InvPotion" AllowDrop="True" Style="{DynamicResource TabItemStyle1}" Width="32" FontFamily="{StaticResource FontBold}"  BorderBrush="{x:Null}" Background="#282C34" Height="30" FontSize="15" DragOver="TabItem_DragOver">
                                            <TabItem.Header>
                                                <Image Source="\Resources\PotionIcon.png" Margin="1" HorizontalAlignment="Center" VerticalAlignment="Center" Stretch="Uniform" />
                                            </TabItem.Header>
                                        </TabItem>
                                        <TabItem x:Name="InvMain" AllowDrop="True" Style="{DynamicResource TabItemStyle1}" Width="85" FontFamily="{StaticResource FontBold}" Header="Main"  BorderBrush="{x:Null}" Background="#282C34" Height="30" FontSize="15" DragOver="TabItem_DragOver"/>
                                        <TabItem x:Name="InvExtra1" AllowDrop="True"  Style="{DynamicResource TabItemStyle1}" Width="80" FontFamily="{StaticResource FontBold}" Header="Extra"  BorderBrush="{x:Null}" Background="#282C34" Height="30" FontSize="15" DragOver="TabItem_DragOver"/>
                                        <TabItem x:Name="InvExtra2" AllowDrop="True" Style="{DynamicResource TabItemStyle1}" Width="80" FontFamily="{StaticResource FontBold}" Header="Extra"  BorderBrush="{x:Null}" Background="#282C34" Height="30" FontSize="15" DragOver="TabItem_DragOver"/>
                                        <TabItem x:Name="InvExtra3" AllowDrop="True" Foreground="#CCA749" Style="{DynamicResource TabItemStyle1}" Width="80" FontFamily="{StaticResource FontBold}" Header="Extra"  BorderBrush="{x:Null}" Background="#282C34" Height="30" FontSize="15" DragOver="TabItem_DragOver"/>
                                    </TabControl>
                                    <Label Content="100" x:Name="labelInventoryCount" FontSize="16" Foreground="{StaticResource Gray}" Margin="0,0,90,0" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Right"  FlowDirection="RightToLeft"/>
                                    <Button x:Name="buttonSort" Style="{DynamicResource ButtonSort}" Margin="0,00,50,0" Content="Sort" FontSize="14" Width="40" Height="32" VerticalAlignment="Center" HorizontalAlignment="Right" Cursor="Hand" Click="buttonSort_Click"/>
                                    <Button x:Name="buttonStash" Style="{DynamicResource ButtonStash}" Content="Stash" FontSize="14" Width="50" Height="32" VerticalAlignment="Center" HorizontalAlignment="Right" Cursor="Hand" Click="buttonStash_Click"/>
                                </Grid>
                                <WrapPanel x:Name="gridInvMain" Margin="0,0,0,42" Height="240" Width="600"  HorizontalAlignment="Left" VerticalAlignment="Bottom" Background="#FF292929" FlowDirection="LeftToRight" Loaded="gridInvMain_Loaded"/>
                                <Grid x:Name="gridInvMainImages" Margin="0,0,0,42" Height="240" Width="600"  VerticalAlignment="Bottom"  HorizontalAlignment="Left"/>
                            </Grid>
                            <Grid x:Name="quickActions"  Width="120" Margin="0,0,250,0" HorizontalAlignment="Right" VerticalAlignment="Bottom">
                                <StackPanel Orientation="Vertical">
                                    <WrapPanel Name="wpQuickActionsInv" Orientation="Horizontal" VerticalAlignment="Bottom">
                                        <Border  x:Name="btnClearSockets" Height="50" Width="110" Style="{StaticResource quickActionButton}" Drop="btnClearSockets_Drop">
                                            <TextBlock Text="Clear Sockets" TextWrapping="WrapWithOverflow" Foreground="#99AAB5" TextAlignment="Center" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="14" FontFamily="{StaticResource FontBold}" />
                                        </Border>
                                        <Border  x:Name="btnRandomSeed"  Height="50" Width="110" Style="{StaticResource quickActionButton}" Drop="btnRandomSeed_Drop">
                                            <TextBlock Text="Randomize Seed" TextWrapping="WrapWithOverflow" Foreground="#99AAB5" TextAlignment="Center" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="14" FontFamily="{StaticResource FontBold}" />
                                        </Border>
                                        <Border  x:Name="btnDelete" Height="110" Width="110" Style="{StaticResource quickActionButton}" Drop="TextBlock_Drop">
                                            <TextBlock Text="Delete" TextWrapping="WrapWithOverflow" Foreground="#99AAB5" TextAlignment="Center" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="14" FontFamily="{StaticResource FontBold}" />
                                        </Border>
                                    </WrapPanel>
                                    <WrapPanel Name="wpQuickActionsItemlist" Orientation="Horizontal" VerticalAlignment="Bottom">
                                        <Border  x:Name="btnAddToInv" Style="{StaticResource quickActionButton}" Drop="btnAddToInv_Drop">
                                            <TextBlock Text="Add to Inventory" TextWrapping="WrapWithOverflow" Foreground="#99AAB5" TextAlignment="Center" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="14" FontFamily="{StaticResource FontBold}"/>
                                        </Border>
                                        <Border x:Name="btnEquip" Style="{StaticResource quickActionButton}" Drop="btnEquip_Drop">
                                            <TextBlock Text="Equip" TextWrapping="WrapWithOverflow" Foreground="#99AAB5" TextAlignment="Center" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="14" FontFamily="{StaticResource FontBold}"/>
                                        </Border>
                                        <Border x:Name="btnFillInv" Style="{StaticResource quickActionButton}" Drop="btnFillInv_Drop">
                                            <TextBlock Text="Fill Inventory" TextWrapping="WrapWithOverflow" Foreground="#99AAB5" TextAlignment="Center" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="14" FontFamily="{StaticResource FontBold}"/>
                                        </Border>
                                        <Border  x:Name="btnAddAllToInv" Style="{StaticResource quickActionButton}" Drop="btnAddAllToInv_Drop">
                                            <TextBlock Text="Add all" TextWrapping="WrapWithOverflow" Foreground="#99AAB5" TextAlignment="Center" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="14" FontFamily="{StaticResource FontBold}"/>
                                        </Border>
                                        <Border x:Name="btnAddSet" Style="{StaticResource quickActionButton}" Drop="btnAddSet_Drop">
                                            <TextBlock Text="Add Set" TextWrapping="WrapWithOverflow" Foreground="#99AAB5" TextAlignment="Center" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="14" FontFamily="{StaticResource FontBold}"/>
                                        </Border>
                                        <Border x:Name="btnEquipSet" Style="{StaticResource quickActionButton}" Drop="btnEquipSet_Drop">
                                            <TextBlock Text="Equip Set" TextWrapping="WrapWithOverflow" Foreground="#99AAB5" TextAlignment="Center" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="14" FontFamily="{StaticResource FontBold}"/>
                                        </Border>
                                    </WrapPanel>
                                </StackPanel>
                            </Grid>
                            <Grid x:Name="gridItemlist" Width="250" Margin="0,0,0,0" Height="580" HorizontalAlignment="Right" VerticalAlignment="Top">
                                <Grid Margin="0,135,0,10">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <ScrollViewer Grid.Row="0" Background="#FF24262D" Visibility="Collapsed" Height="435" x:Name="gridItemFilter">
                                        <StackPanel Orientation="Vertical" Loaded="gridItemFilter_Loaded">
                                            <StackPanel Orientation="Horizontal">
                                                <Button x:Name="buttonResetFilterAll" Style="{DynamicResource ButtonRed}" Content="Reset all" Height="25" Width="70" HorizontalAlignment="Left" Margin="5,5,0,5" VerticalAlignment="Center" Cursor="Hand" Click="buttonResetFilterAll_Click"/>
                                                <Button x:Name="buttonResetFilterStats" Style="{DynamicResource ButtonRed}" Content="Reset stats" Height="25" Width="80" HorizontalAlignment="Left" Margin="5,5,0,5" VerticalAlignment="Center" Cursor="Hand" Click="buttonResetFilterStats_Click"/>
                                            </StackPanel>
                                            <Grid  Height="30"  Background="#FF1F2126">
                                                <Label Margin="5,0,0,0" Content="Rarities:" FontSize="16" Foreground="{StaticResource White}" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Left"/>
                                            </Grid>
                                            <ItemsControl x:Name="listBoxItemFilterRarity" ItemsSource="{Binding RarityFilter}" Margin="10,5,10,5">
                                                <ItemsControl.ItemsPanel>
                                                    <ItemsPanelTemplate>
                                                        <WrapPanel Orientation="Horizontal"></WrapPanel>
                                                    </ItemsPanelTemplate>
                                                </ItemsControl.ItemsPanel>
                                                <ItemsControl.ItemTemplate>
                                                    <DataTemplate>
                                                        <DataTemplate.Triggers>
                                                            <DataTrigger Binding="{Binding Enabled}" Value="False">
                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                            </DataTrigger>
                                                        </DataTemplate.Triggers>
                                                        <CheckBox Content="{Binding Rarity.Name}" VerticalContentAlignment="Center" Style="{DynamicResource CheckBoxMain}" Margin="3,3,8,3" Width="95"  Foreground="{Binding Rarity.Color}" FontSize="14" FontFamily="/Resources/Fonts/#Nunito Sans" IsChecked="{Binding Selected}" Checked="CheckBox_Checked" Unchecked="CheckBox_Checked"></CheckBox>
                                                    </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                            </ItemsControl>
                                            <Grid  Height="30"  Background="#FF1F2126">
                                                <Label Margin="5,0,0,0" Content="Stats:" FontSize="16" Foreground="{StaticResource White}" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Left"/>
                                            </Grid>
                                            <ItemsControl x:Name="listBoxItemFilterStats" ItemsSource="{Binding StatFilter}" Margin="10,5,10,5">
                                                <ItemsControl.ItemsPanel>
                                                    <ItemsPanelTemplate>
                                                        <WrapPanel Orientation="Vertical"></WrapPanel>
                                                    </ItemsPanelTemplate>
                                                </ItemsControl.ItemsPanel>
                                                <ItemsControl.ItemTemplate>
                                                    <DataTemplate>
                                                        <CheckBox Content="{Binding Stat.FilteredDescription}" VerticalContentAlignment="Center" Style="{DynamicResource CheckBoxMain}" IsChecked="{Binding Selected}" Margin="3,3,8,3"   Foreground="{StaticResource Gray}" FontSize="13" FontFamily="/Resources/Fonts/#Nunito Sans"  Checked="CheckBox_Checked" Unchecked="CheckBox_Checked"></CheckBox>
                                                    </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                            </ItemsControl>
                                        </StackPanel>
                                    </ScrollViewer>
                                    <vwp:VirtualizingItemsControl ScrollViewer.VerticalScrollBarVisibility="Visible" VirtualizingPanel.IsVirtualizingWhenGrouping="True" Grid.Row="1" x:Name="listBox_Items" BorderThickness="0"  Background="#FF1D2025" BorderBrush="#FF483D85">
                                        <ItemsControl.GroupStyle>
                                            <GroupStyle HidesIfEmpty="True">
                                                <GroupStyle.HeaderTemplate>
                                                    <DataTemplate>
                                                        <Border  HorizontalAlignment="Left" BorderBrush="{StaticResource Gray}"  Width="225">
                                                            <Border.Style>
                                                                <Style TargetType="Border">
                                                                    <Setter Property="Height" Value="20"/>
                                                                    <Setter Property="BorderThickness" Value="0,0,0,3"/>
                                                                    <Setter Property="Margin" Value="4,0,0,3"/>
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{Binding Name}" Value="False">
                                                                            <Setter Property="BorderThickness" Value="0,3,0,0"/>
                                                                            <Setter Property="Margin" Value="4,3,0,0"/>
                                                                            <Setter Property="Height" Value="15"/>
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </Border.Style>
                                                            <Grid>
                                                                <TextBlock HorizontalAlignment="Left"  FontSize="14" FontFamily="/Resources/Fonts/#Nunito Sans Bold" Foreground="{StaticResource Gray}">
                                                                    <TextBlock.Style>
                                                                        <Style TargetType="TextBlock">
                                                                            <Setter Property="Text" Value="★ Favorites ★"/>
                                                                            <Style.Triggers>
                                                                                <DataTrigger Binding="{Binding Name}" Value="False">
                                                                                    <Setter Property="Text" Value=""/>
                                                                                </DataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </TextBlock.Style>
                                                                </TextBlock>
                                                                <TextBlock HorizontalAlignment="Right"  FontSize="14" FontFamily="/Resources/Fonts/#Nunito Sans Bold" Foreground="{StaticResource Gray}">
                                                                    <TextBlock.Style>
                                                                        <Style TargetType="TextBlock">
                                                                            <Setter Property="Text" Value="{Binding Items.Count}"/>
                                                                            <Style.Triggers>
                                                                                <DataTrigger Binding="{Binding Name}" Value="False">
                                                                                    <Setter Property="Text" Value=""/>
                                                                                </DataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </TextBlock.Style>
                                                                </TextBlock>
                                                            </Grid>
                                                        </Border>
                                                    </DataTemplate>
                                                </GroupStyle.HeaderTemplate>
                                            </GroupStyle>
                                        </ItemsControl.GroupStyle>
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Border Padding="2,1,2,1" Margin="3,0,0,0" Height="27.18" DataContext="{Binding}" MouseLeftButtonDown="listBox_Items_PreviewMouseLeftButtonDown" GiveFeedback="Grid_GiveFeedback" MouseEnter="ItemList_ShowTooltip" MouseLeave="ItemList_HideTooltip" Loaded="Border_Loaded">
                                                    <Grid Loaded="StackPanel_Loaded">
                                                        <StackPanel HorizontalAlignment="Left" Orientation="Horizontal"  GiveFeedback="Grid_GiveFeedback">
                                                            <Grid Width="10" Height="25" Background="{Binding Rarity.TooltipBorderColor}"></Grid>
                                                            <Image Source="{Binding Sprite}" StretchDirection="DownOnly" Stretch="Uniform" Margin="5,0,0,0" Height="24" Width="24"></Image>
                                                            <TextBlock Text="{Binding Name}" Width="160" VerticalAlignment="Center" FontSize="11" Foreground="{Binding Rarity.TooltipNameColor}" FontFamily="/Resources/Fonts/#Nunito Sans Bold" Padding="5,0,0,0"></TextBlock>
                                                        </StackPanel>
                                                    </Grid>

                                                    <Border.Style>
                                                        <Style TargetType="Border">
                                                            <Setter Property="Background" Value="Transparent"/>
                                                            <Setter Property="BorderThickness" Value="0"/>
                                                            <Setter Property="BorderBrush" Value="Transparent"/>
                                                            <Style.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter Property="Background" Value="#20303c"/>
                                                                    <Setter Property="BorderThickness" Value="1"/>
                                                                    <Setter Property="BorderBrush" Value="#26a0da"/>
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Border.Style>
                                                </Border>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </vwp:VirtualizingItemsControl>
                                </Grid>
                                <Border CornerRadius="6,6,0,0" Height="30" BorderThickness="6" BorderBrush="#483d85" Background="#483d85" VerticalAlignment="Top">
                                    <TextBlock Text="Item List" FontSize="16" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Center"/>
                                </Border>
                                <Border CornerRadius="0,0,3,3" BorderBrush="#FF483D85" Background="#FF483D85" BorderThickness="3" Height="10" VerticalAlignment="Bottom" />
                                <Grid  Height="75"  Margin="0,30,0,0" Background="#FF1A1B1C" VerticalAlignment="Top">
                                    <TextBox x:Name="textBoxItemlistSearch" Padding="5,0,30,0" MaxLength="30" Style="{DynamicResource TextBoxMain}" Text="Search..."  Width="240" HorizontalAlignment="Center" Margin="0,5,0,0" Height="30" GotFocus="textBoxItemlistSearch_GotFocus" LostFocus="textBoxItemlistSearch_LostFocus" TextChanged="textBoxItemlistSearch_TextChanged"/>
                                    <Image Source="..//Resources/Clear.png" Cursor="Hand" Height="18" Width="18" VerticalAlignment="Top" Margin="0,11,12,0" HorizontalAlignment="Right" MouseDown="ClearItemSearchbar"></Image>
                                    <ComboBox x:Name="comboBoxItemFilterSlot" SelectedIndex="0" VerticalAlignment="Top"  Width="105" HorizontalAlignment="Left" Margin="5,40,0,0" Height="30" Loaded="comboBoxClasses_Loaded"  ScrollViewer.VerticalScrollBarVisibility="Hidden" Cursor="Hand" SelectionChanged="comboBoxItemFilterSlot_SelectionChanged">
                                        <ComboBox.ItemTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="{Binding Sprite}" Width="20" Height="20"></Image>
                                                    <TextBlock Text="{Binding Name}" Width="120" Margin="5,0,0,0" FontSize="16" Foreground="{StaticResource White}" FontFamily="/Resources/Fonts/#Nunito Sans"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </ComboBox.ItemTemplate>
                                    </ComboBox>
                                    <ComboBox x:Name="comboBoxItemFilterWeaponType" SelectedIndex="0" VerticalAlignment="Top"  ScrollViewer.HorizontalScrollBarVisibility="Disabled" Width="130" HorizontalAlignment="Right" Margin="0,40,5,0" Height="30" Loaded="comboBoxClasses_Loaded"  ScrollViewer.VerticalScrollBarVisibility="Hidden" Cursor="Hand" SelectionChanged="comboBoxItemFilterWeaponType_SelectionChanged">
                                        <ComboBox.ItemTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="{Binding Sprite}" Width="20" Height="20"></Image>
                                                    <TextBlock Text="{Binding Name}" Margin="5,0,0,0" Width="120" FontSize="16" Foreground="{StaticResource White}" FontFamily="/Resources/Fonts/#Nunito Sans"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </ComboBox.ItemTemplate>
                                    </ComboBox>
                                </Grid>
                                <Grid VerticalAlignment="Top" Cursor="Hand" Height="30" Margin="0,105,0,0" Background="#FF1A1B1C" MouseDown="Grid_MouseDown_2">
                                    <TextBlock Margin="5,0,0,0" Text="Advanced Filters" IsHitTestVisible="False" FontSize="16" FontFamily="/Resources/Fonts/#Nunito Sans Bold" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                    <Label x:Name="collapseIndicatorItemFilter" IsHitTestVisible="False" Content="▼" Margin="0,0,5,0" VerticalContentAlignment="Bottom" FontFamily="/Resources/Fonts/#Nunito Sans Bold"  HorizontalAlignment="Right"  FontSize="12" Foreground="{StaticResource White}"/>
                                    <Label Content="700" x:Name="labelItemCount" FontSize="16" Foreground="{StaticResource Gray}" FontFamily="/Resources/Fonts/#Nunito Sans Bold" Margin="0,0,25,0" HorizontalAlignment="Right" FlowDirection="RightToLeft"/>
                                </Grid>
                            </Grid>
                        </Grid>
                    </Grid>
                </TabItem>
            </TabControl>
            <Image x:Name="discordLogo" HorizontalAlignment="Right" VerticalAlignment="Top" Cursor="Hand" Source="..//Resources/Discord.png" RenderOptions.BitmapScalingMode="HighQuality" Height="40" Width="40" Margin="0,2,3,2" MouseLeftButtonDown="Image_MouseLeftButtonDown">
                <Image.Style>
                    <Style TargetType="Image">
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter Property="Opacity" Value="0.8"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Image.Style>
                <Image.ToolTip>
                    <Border BorderBrush="#FF483D85" BorderThickness="3">
                        <StackPanel Background="#FF212329">
                            <TextBlock Text="Join our *Official Discord*" Tag="#6451cf"  MaxWidth="350" FontFamily="/Resources/Fonts/#Nunito Sans Regular" Margin="10" Foreground="{StaticResource Gray}" FontSize="14" Loaded="TextBlock_Loaded"/>
                        </StackPanel>
                    </Border>
                </Image.ToolTip>
            </Image>
            <Grid Width="220" HorizontalAlignment="Left" Background="#1f2126">
                <Label Style="{StaticResource BoldFont}" Content="Save Slots" HorizontalContentAlignment="Center" Foreground="{StaticResource White}" FontSize="20" VerticalAlignment="Top" Height="40" VerticalContentAlignment="Center" Margin="0,59,0,0"/>
                <StackPanel Margin="0,99,0,40" Height="510" VerticalAlignment="Top">
                    <ScrollViewer MaxHeight="500"  ScrollViewer.VerticalScrollBarVisibility="Hidden">
                        <ListBox x:Name="listBox_Slots" BorderThickness="0" ScrollViewer.VerticalScrollBarVisibility="Disabled" Width="220"  Background="#25282e" Loaded="listBox_Slots_Loaded" SelectionChanged="listBox_Slots_SelectionChanged" BorderBrush="#1f2126" ContextMenuOpening="listBox_Slots_ContextMenuOpening" PreviewMouseRightButtonDown="listBox_Slots_PreviewMouseRightButtonDown">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <Grid IsHitTestVisible="True" Width="210">
                                        <StackPanel Orientation="Horizontal">
                                            <Image IsHitTestVisible="False" Width="24" Height="24" HorizontalAlignment="Center" Source="{Binding Sprite}"/>
                                            <Border  Width="130" Height="32">
                                                <TextBlock IsHitTestVisible="False" TextWrapping="Wrap"  HorizontalAlignment="Left" Text="{Binding HeroInfo.Name}"  FontFamily="/Resources/Fonts/#Nunito Sans"  FontSize="14" Foreground="{Binding Color}" Padding="5,0,0,0" VerticalAlignment="Center"/>
                                            </Border>
                                        </StackPanel>
                                        <Border HorizontalAlignment="Right" Width="25" Height="32">
                                            <TextBlock IsHitTestVisible="False" Text="{Binding ID}" FlowDirection="RightToLeft"  VerticalAlignment="Center" FontFamily="/Resources/Fonts/#Nunito Sans Bold" FontSize="12" Foreground="{Binding Color}" HorizontalAlignment="Center"></TextBlock>
                                        </Border>
                                    </Grid>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                            <ListBox.Template>
                                <ControlTemplate>
                                    <ItemsPresenter />
                                </ControlTemplate>
                            </ListBox.Template>
                        </ListBox>
                    </ScrollViewer>
                    <Button Style="{DynamicResource NewChar}" Margin="0,5,0,0" FontWeight="Bold"  FontFamily="/Resources/Fonts/#Nunito Sans Bold" FontSize="36" VerticalContentAlignment="Top" BorderThickness="0" HorizontalAlignment="Center" Width="220" Height="36" Cursor="Hand" Click="Button_Click_5">
                        <TextBlock Text="+" Margin="0,-9,0,0"/>
                    </Button>
                </StackPanel>
                <Button Style="{DynamicResource SaveButton}" FontFamily="/Resources/Fonts/#Nunito Sans Bold" FontSize="18" HorizontalAlignment="Left" Margin="4,0,0,6" Width="105" Height="28" VerticalAlignment="Bottom" Click="Button_Click_3" Cursor="Hand"/>
                <Button Style="{DynamicResource RefreshButton}" Cursor="Hand" FontFamily="/Resources/Fonts/#Nunito Sans Bold" FontSize="18" HorizontalAlignment="Right" Margin="0,0,5,6" Width="105" Height="28" VerticalAlignment="Bottom" Click="Button_Click_2"/>
                <Grid x:Name="gridSelectedSlot" Height="55" VerticalAlignment="Top" Background="#1f2126">
                    <Grid HorizontalAlignment="Left" Height="32" Margin="5,5,0,0" Width="32" VerticalAlignment="Top">
                        <Image x:Name="imageSelectedSlotClass"  Source="{Binding Sprite}" HorizontalAlignment="Center"  Stretch="Uniform"/>
                    </Grid>
                    <StackPanel Orientation="Vertical" Margin="45,5,5,0">
                        <TextBlock x:Name="labelSelectedSlotName" Text="{Binding HeroInfo.Name}" TextWrapping="Wrap" FontSize="14"  FontFamily="/Resources/Fonts/#Nunito Sans Bold" VerticalAlignment="Top" Foreground="{StaticResource White}" />
                        <StackPanel Orientation="Horizontal">
                            <TextBlock x:Name="labelSelectedSlot" Text="ID:" FontSize="12" Margin="0,0,5,0"  FontFamily="/Resources/Fonts/#Nunito Sans Bold" Foreground="#99AAB5"/>
                            <TextBlock x:Name="labelSelectedSlotID" Text="{Binding ID}" FontSize="12"  FontFamily="/Resources/Fonts/#Nunito Sans Bold" Foreground="#99AAB5" />
                        </StackPanel>
                    </StackPanel>
                </Grid>
                <CheckBox Style="{DynamicResource CheckBoxMain}" VerticalContentAlignment="Center" x:Name="checkbox_savechar" Content="Save Char" HorizontalAlignment="Left" Margin="4,623,0,0" VerticalAlignment="Top" Width="105" Foreground="#FFF6F6F6" FontFamily="Nunito Sans" FontWeight="Bold" IsChecked="True"/>
                <CheckBox Style="{DynamicResource CheckBoxMain}" VerticalContentAlignment="Center" x:Name="checkbox_savestash" Content="Save Stash" HorizontalAlignment="Left" Margin="110,623,0,0" VerticalAlignment="Top" Width="105" Foreground="#FFF6F6F6" FontFamily="Nunito Sans" FontWeight="Bold" IsChecked="True"/>
            </Grid>
            <Grid x:Name="popupGrid" Background="Black" Opacity="0" Visibility="Collapsed" IsHitTestVisible="False" MouseDown="popupGrid_MouseDown"/>
            <Grid x:Name="controlGrid" IsHitTestVisible="True"/>
            <Grid x:Name="toolTipGrid" IsHitTestVisible="False"/>
        </Grid>
    </Viewbox>
</Window>
